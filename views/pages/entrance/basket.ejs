<div id="basket" v-cloak>
  <div class="container pt-5 pb-5">
    <h1 v-if="!bought">Itens em sua cesta:</h1>

    <hr/>
    <ul>
      <div class="d-flex row">
        <li v-for="item in items" :key="item.message" class="m-auto" style="list-style-type: none;" v-if="item.qtd>0 && !bought">
          <div class="col-3 m-5 flex-column" style="width: 100px;" >
            <div class="d-flex col-3 justify-content-center" style="height: 10%; font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;">
              {{ item.nome }}
            </div>
            <div class="d-flex col-6 justify-content-center m-auto">
              <img :src="'../../images/frutas/'+item.imagem" style="width: 150px;"  />
            </div>
            <div class="d-flex justify-content-center">
              {{item.valor.toLocaleString('pt-br',{style: 'currency', currency: 'BRL'})}}
            </div>
            <div class="d-flex justify-content-center">
              <i class="fa fa-minus mr-3 my-auto" style="cursor: pointer" @click="subQtd(item.id)"></i> 
                <div class="d-flex justify-content-center">Quantidade: </div>
                <div  style="font-weight: 800;">&nbsp;{{item.qtd}}</div> 
                <i class="fa fa-plus ml-3 my-auto cursor" style="cursor: pointer" @click="addQtd(item.id)" ></i>
            </div>
            <div class="d-flex justify-content-center">
                <div class="d-flex justify-content-center">Subtotal: </div>
                <div style="font-weight: 800;">&nbsp;{{item.qtd * item.valor}}</div> 
            </div>
          </div>
        </li>
        <h1 style="color: green;" v-if="bought">Compra realizada! :D</h1>
      </div>
    </ul>
    <h2 v-if="!bought">Total: {{total}}</h2>
    <div class="d-flex w-100 justify-content-center"> 
      <% if(me) {%>
        <button  @click="success()" class="btn btn-outline-info mt-3" v-if="!bought">Comprar</button>
      <% } else { %>
        <button  @click="fail()" class="btn btn-outline-info mt-3" v-if="!bought">Comprar</button>
      <% } %> 
    </div>
  </div>
</div>